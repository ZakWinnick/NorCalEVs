<footer>
    <p>&copy; <script>document.write(new Date().getFullYear())</script> NorCal EVs. All rights reserved. | 
      <a href="/changelog.html" target="_blank">Version 2025.15</a>
    </p>
  </footer>
  
  <!-- HEADER & FOOTER LOAD + JS -->
<script>
    async function includeHTML() {
      const [header, footer] = await Promise.all([
        fetch('/includes/header.html').then(res => res.text()),
        fetch('/includes/footer.html').then(res => res.text()),
      ]);
      document.getElementById('header-include').innerHTML = header;
      document.getElementById('footer-include').innerHTML = footer;
  
      // Wait for DOM to update before adding interactivity
      initMenuInteractions();
    }
  
    function initMenuInteractions() {
      const toggle = document.querySelector('.nav-toggle');
      const menu = document.querySelector('.nav-menu');
      const dropdownToggle = document.querySelector('.dropdown-toggle');
      const dropdownMenu = document.querySelector('.dropdown-menu');
  
      if (!toggle || !menu || !dropdownToggle || !dropdownMenu) return;
  
      toggle.addEventListener('click', (e) => {
        e.stopPropagation();
        menu.classList.toggle('active');
      });
  
      dropdownToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle('show');
        dropdownToggle.setAttribute('aria-expanded', dropdownMenu.classList.contains('show'));
      });
  
      document.addEventListener('click', (e) => {
        if (menu.classList.contains('active') &&
            !menu.contains(e.target) &&
            !toggle.contains(e.target)) {
          menu.classList.remove('active');
        }
  
        if (!dropdownMenu.contains(e.target) &&
            !dropdownToggle.contains(e.target)) {
          dropdownMenu.classList.remove('show');
          dropdownToggle.setAttribute('aria-expanded', 'false');
        }
      });
  
      dropdownMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          dropdownMenu.classList.remove('show');
          dropdownToggle.setAttribute('aria-expanded', 'false');
        });
      });
    }
  
    includeHTML();
  </script>
  
  